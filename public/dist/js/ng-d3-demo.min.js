var d4directives=angular.module("d4.directives",[]);d4directives.directive("histogram",["$timeout",function(a){function b(a,b){var c=d3.range(1e3).map(d3.randomBates(10)),d=d3.format(",.0f"),e={top:10,bottom:50,left:10,right:10},f=b.$$element[0].childNodes[1].clientWidth,g=b.$$element[0].childNodes[1].offsetHeight,h=f-e.left-e.right,i=g-e.top-e.bottom,j=d3.scaleLinear().rangeRound([0,h]),k=d3.histogram().domain(j.domain()).thresholds(j.ticks(20))(c),l=d3.scaleLinear().domain([0,d3.max(k,function(a){return a.length})]).range([i,0]),m=d3.select(a[0]).select(".chart-wrapper").append("svg").attr("width",f).attr("height",g).append("g").attr("transform","translate("+e.left+","+e.top+")");m.append("circle").attr("r",5).attr("fill","blue");var n=m.selectAll(".bar").data(k).enter().append("g").attr("class","bar").attr("transform",function(a){return"translate("+j(a.x0)+","+l(a.length)+")"});n.append("rect").attr("x",1).attr("width",j(k[0].x1)-j(k[0].x0)-1).attr("height",function(a){return i-l(a.length)}),n.append("text").attr("dy",".75em").attr("y",6).attr("x",(j(k[0].x1)-j(k[0].x0))/2).attr("text-anchor","middle").text(function(a){return d(a.length)}),m.append("g").attr("class","axis x").attr("transform","translate(0,"+i+")").call(d3.axisBottom(j))}return{restrict:"E",template:' <div class="chart-wrapper"></div>',scope:{data:"="},link:function(c,d,e){c.$watch("data",function(c,f){!!c&&a(b(d,e))})}}}]),angular.module("ngD3ChartsDemo",["ng-d3-charts","ngMaterial","ngD3Demo.controllers","ngD3Demo.directives","d4.directives"]).config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("blue").accentPalette("blue-grey").warnPalette("red")}]);var ngD3DemoControllers=angular.module("ngD3Demo.controllers",[]);ngD3DemoControllers.controller("index",["$scope","$q","chartConfig",function(a,b,c){a.getFakeData=function(){var c=b.defer(),d=b.defer();d.promise.then(function(b){a.fakeDatasetHBar=b}),c.promise.then(function(b){a.fakeDataset=b});for(var e=[],f=Math.floor(10*Math.random()),g=0;g<f;g++)e.push({x:g,y:Math.random()*Math.ceil(1e4*Math.random())}),g===f-1&&c.resolve(e);for(var h=[],i=["Han Solo","Princess Leia","Chewbacca","Yoda","C-3PO","Darth Maul","Luke Skywalker","Obi-Wan Kenobi","R2-D2","Count Doku"],j=0;j<f;j++)h.push({x:Math.random()*Math.ceil(1e4*Math.random()),y:i[j]}),j===f-1&&d.resolve(h)},a.getFakeData(),a.lineChartConfig=new c({chartType:"lineChart",xAxis:{showAxis:!0},yAxis:{showAxis:!0}}),a.verticalBarChartConfig=new c({chartType:"barChartVertical",xAxis:{showAxis:!0,barPadding:.3,barOuterPadding:.5,ticks:2},yAxis:{showAxis:!0}}),a.horizontalBarChartConfig=new c({chartType:"barChartHorizontal",margin:{top:30,right:30,bottom:30,left:110},xAxis:{showAxis:!0,ticks:4},yAxis:{showAxis:!0,barPadding:.5,barOuterPadding:.8}})}]),ngD3DemoControllers.controller("d4-training",["$scope","$q","$timeout","chartConfig",function(a,b,c,d){a.getFakeData=function(){var c=b.defer(),d=b.defer();d.promise.then(function(b){a.fakeDatasetHBar=b}),c.promise.then(function(b){a.fakeDataset=b,console.info(a.fakeDataset)});for(var e=[],f=Math.floor(10*Math.random()),g=0;g<f;g++)e.push({x:g,y:Math.random()*Math.ceil(1e4*Math.random())}),g===f-1&&c.resolve(e);for(var h=[],i=["Han Solo","Princess Leia","Chewbacca","Yoda","C-3PO","Darth Maul","Luke Skywalker","Obi-Wan Kenobi","R2-D2","Count Doku"],j=0;j<f;j++)h.push({x:Math.random()*Math.ceil(1e4*Math.random()),y:i[j]}),j===f-1&&d.resolve(h)},a.getFakeData()}]);var ngD3DemoDirectives=angular.module("ngD3Demo.directives",[]);ngD3DemoDirectives.directive("sideNavToggle",["$timeout","$mdSidenav","$rootScope","$document",function(a,b,c,d){return{restrict:"A",link:function(d,e,f){function g(b,c,e){var f;return function(){var e=d,g=Array.prototype.slice.call(arguments);a.cancel(f),f=a(function(){f=void 0,b.apply(e,g)},c||10)}}function h(a){return g(function(){b(a).toggle().then(function(){})},200)}d.toggleSideNavMenu=h("sideNavigationMenu"),c.$on("$stateChangeSuccess",function(a,c,e,f,g){!!b("sideNavigationMenu").isOpen()&&d.toggleSideNavMenu()})}}}]);